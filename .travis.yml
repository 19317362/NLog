language: csharp
mono: none
dotnet: 2.0.0
dist: trusty
sudo: required

install:
  # Display dotnet version info
  - which dotnet;
    if [ $? -eq 0 ]; then
      echo "Using dotnet:";
      dotnet --info;
    else
      echo "dotnet.exe not found"
      exit 1;
    fi

  # Restore dependencies
  - dotnet restore src/NLog
  - dotnet restore src/NLogAutoLoadExtension
  - dotnet restore tests/SampleExtensions
  - dotnet restore tests/NLog.UnitTests

script:
  # Run tests
  - dotnet test tests/NLog.UnitTests --configuration Release --framework netcoreapp2.0